<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Future Lab 5th Christmas Card</title>
  <link rel="stylesheet" href="//unpkg.com/feathers-chat@4.0.0/public/base.css">
  <!-- <link rel="stylesheet" href="//unpkg.com/feathers-chat@4.0.0/public/chat.css"> -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
</head>
<body>
    <h1>퓨처랩과 함께 할 2022, 메시지를 남겨주세요 </h1>
    <div id="sketch" onload="draw();">
        <!-- <canvas id="canvas" width ="300" height="300"></canvas> -->
        </div>
  <main id="main" class="container">
    <form class="form" onsubmit="sendMessage(event.preventDefault())">
        <label for="nickname-text">닉네임 : </label>
        <input type="text" id="nickname-text" placeholder="닉네임">
        <label for="message-text">닉네임 : </label>
      <input type="text" id="message-text" placeholder="메시지">
      <button type="submit" class="button primary">메시지  남기기!</button>
    </form>

    <h2>퓨처랩에 전해온 메시지:</h2>
  </main>
  
  
    
  <script src="sketch.js"></script>
  <script src="//unpkg.com/@feathersjs/client@^4.3.0/dist/feathers.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
  <script src="./client.js"></script>
  <!-- <script type="text/javascript">
    // Set up socket.io
    const socket = io('http://localhost:3030');
    // Initialize a Feathers app
    const app = feathers();
    
    // Register socket.io to talk to our server
    app.configure(feathers.socketio(socket));

    // Form submission handler that sends a new message
    async function sendMessage () {
      const messageInput = document.getElementById('message-text');

      // Create a new message with the input field value
      await app.service('messages').create({
        text: messageInput.value
      });

      messageInput.value = '';
    }

    // Renders a single message on the page
    function addMessage (message) {
      document.getElementById('main').innerHTML += `<p>${message.text}</p>`;
    }
    
    const main = async () => {
      // Find all existing messages
      const messages = await app.service('messages').find();

      // Add existing messages to the list
      messages.forEach(addMessage);

      // Add any newly created message to the list in real-time
      app.service('messages').on('created', addMessage);
    };

    main();
  </script> -->
</body>
</html>
